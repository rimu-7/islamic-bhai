"use client";

import React, { useState } from "react";

export default function WuduGuide() {
  const [checked, setChecked] = useState([]);
  const [showTranslit, setShowTranslit] = useState(false);
  const [copied, setCopied] = useState(false);

  const steps = [
    {
      id: 0,
      title: "প্রস্ততি — কি লাগবে",
      body: `
- পরিষ্কার (টাকা) পানি: ধে‌ওয়া যোগ্য পানি — বর্ষার পানি, কলের পানি ইত্যাদি।
- পরিষ্কার স্থান: নল, সিঙ্ক বা কাঁটাতারে যেখানে পানি পাওয়া যায়।
- ছোট তোয়ালে (ঐচ্ছিক) — পা মুছতে।

ছোট টিপ: ওযু করার সময় প্রচুর পানি ব্যবহার করবেন না; পানি বাঁচান।`,
    },
    {
      id: 1,
      title: "নিয়ত (Niyyah) — মনে মানসিক উদ্দেশ্য করা",
      body: `নিয়ত মানে—আপনার হৃদয়ে মনে করে সিদ্ধান্ত নেওয়া যে আপনি ওযু করছেন আল্লাহর সন্তুষ্টির জন্য ও নামাজ পড়ার বা পবিত্রতার জন্য।

কিছু ক্ষেত্রে মানুষ মৌখিকভাবে বলে: “আমি ওযু করার নিয়ত করিলাম”, কিন্তু মৌখিক বলা আবশ্যিক নয় — মনেভাবেই করা যথেষ্ট।`,
    },
    {
      id: 2,
      title: "বিসমিল্লাহ দিয়ে শুরু করুন",
      body: `ওযু শুরু করার সময় সাধারণত বলুন: “বিসমিল্লাহ” (Bismillāh)।

উচ্চারণ: বিস-মি-ল্লাহ্ (Bismillah)

এটি একটি সুন্নত — শুরুতে আল্লাহর নাম স্মরণ করা।`,
    },
    {
      id: 3,
      title: "হাত ধোয়া — দুই হাত কনিষ্ঠ পর্যন্ত (৩ বার)",
      body: `ধাপসমূহ:
1. প্রথমে ডান হাত দিয়ে পানি নিন এবং কবজি পর্যন্ত (কনিষ্ঠ) হাতটি তিনবার ধুয়ে নিন।
2. প্রতিটি ধোয়ার সময় আঙ্গুলের ফাঁক, নখের নিচে, হাতের তালু—সব জায়গায় পানি পৌঁছানোর চেষ্টা করুন।
3. একইভাবে বাম হাত ধুয়ে নিন।

টিপস:
- প্রথমে ডান হাত ধোয়া সাধারণ (এটি সুন্নত), তারপর বাম।
- যদি হাতের নখ লম্বা হয়, নখের নিচ পরিষ্কার করে নিন।
- অবশ্যই কবজি পর্যন্ত পানি পৌঁছাতে হবে।`,
    },
    {
      id: 4,
      title: "মুখ ধোয়া — তিনবার",
      body: `ধাপ:
1. ডান হাতে পানি নিন, ঠোঁট ও গলায় পৌঁছানোর মতো করে পানি নিন এবং গলায় ঘোরান।
2. পানি গিলে না ফেলবেন—পানি ঘোরিয়ে মুখ পরিষ্কার করে কেটে ফেলুন।
3. এটি তিনবার করুন।

মারক: সাবধান—গলায় বেশি পানি ঢুকলে অসুবিধা হতে পারে; আরাম করে করুন।`,
    },
    {
      id: 5,
      title: "নাক পরিষ্কার করা (নক দিবে/নাসিকা) — তিনবার",
      body: `ধাপ:
1. ডান হাতে পানি নিয়ে হালকাভাবে নাকে টেনে নিন (সুইপ করবেন না)।
2. নাকের ভেতর পানি টেনে নিয়ে চেপে না রাখি; পরে জোরে দেড়েক বার ফুঁক দিয়ে পানি বের করে দিন।
3. দিক বদলানোর প্রয়োজন নেই—প্রতিবার পানি নিন ও বের করুন।

টিপ: পানি নাকের ভেতরে ধাক্কা দিয়ে খুব গভীরে দেবেন না—স্বাচ্ছন্দ্য রাখুন।`,
    },
    {
      id: 6,
      title: "মুখমণ্ডল/মুখ-চেহারা ধোয়া — তিনবার",
      body: `ধাপ:
1. কপালে থেকে থুতনি পর্যন্ত এবং এক কানের বাইরে থেকে অপর কানের বাইরে পর্যন্ত পুরো মুখ ধুয়ে নিন।
2. নিশ্চিত করুন লালচে/চুলের লাইন, থুতনি, গালের দিক, নাকের পাশে সব জায়গায় পানি পৌঁছেছে।
3. সাধারনত তিনবার ধোয়া হয়।

টিপ: যদি কেউ দাড়ি রাখে, পানি দাড়ির নিচ পর্যন্ত ও দাড়ির ওপরেও পৌঁছানো উচিত—আশ্চর্যজনকভাবে দাড়ি থাকা মানে পানি পৌঁছানো কঠিন হতে পারে; আঙুলগুলোর মাধ্যমে পানি ঢুকান।`,
    },
    {
      id: 7,
      title:
        "বাঁহা (কনিষ্ঠ) পর্যন্ত ধোয়া — তিনবার (দাঁড়া থেকে কনিষ্ঠ পর্যন্ত)",
      body: `ধাপ:
1. ডান বাহা কনিষ্ঠ (কনিষ্ঠ = কনিষ্ঠের উপরে কনিষ্ঠের চামড়া পর্যন্ত) পর্যন্ত তিনবার ধুয়ে নিন।
2. বাম বাহাও একইভাবে ধুয়ে নিন।
3. প্রতিবার ধোয়ার সময় কনিষ্ঠও ভালোভাবে পানিযুক্ত করুন—কনিষ্ঠও০০ অন্তর্ভুক্ত।

টিপ: আঙুল এবং কনিষ্ঠের ফাঁকগুলোর দিকে বিশেষ মনোযোগ দিন; নিশ্চিত করুন পানি খোঁচা না পড়ে।`,
    },
    {
      id: 8,
      title: "মাথা মুছা (মাশা) — একবার",
      body: `ধাপ:
1. দুই হাত ভিজিয়ে নিন।
2. কপাল থেকে পিছনের দিকে গিয়ে সাথে সাথে সামনে নিয়ে এসে আবার কপালে ফিরুন — একবার পুরো মাথার উপর হাত বুলান (সেটাই মাশা)।
3. কান মুছুন: ইঙ্গুলির সাহায্যে কানের ভেতর এবং কানের পিছনের অংশ মুছুন।

টিপ: পুরো চুল ভিজানো আবশ্যিক নয়—হাত দিয়ে উপরে থেকে মুছলেই (রাসমত) হয়; কিন্তু হাত শুকনো থাকা উচিত নয়—ভিজা হাতে মুছবেন।`,
    },
    {
      id: 9,
      title: "কান মুছা (মাশা) — একবার (মাথার সাথে একসাথে)",
      body: `ধাপ:
1. ইঙ্গিতের আঙ্গুল ভেতর দিয়ে কানের ভেতর মুছুন এবং পেছনের অংশে থামুন।
2. সাধারণত এটি মাথা মুছার অংশ হিসেবে একবারেই করা হয়।`,
    },
    {
      id: 10,
      title: "পা ধোয়া — টখনা পর্যন্ত (৩ বার)",
      body: `ধাপ:
1. প্রথমে ডান পা ধুয়ে নিন: আঙ্গুল থেকে গোড়ালি পর্যন্ত পানি পৌঁছাতে হবে।
2. আঙ্গুলের ফাঁকগুলো—প্রত্যেক ফাঁকেও পানি পৌঁছান তা নিশ্চিত করুন।
3. বাম পা একইভাবে ধুয়ে নিন।
4. প্রত্যেক পা তিনবার ধুয়ে নিন।

টিপ: যদি পায়ে ব্যান্ডেজ বা কোনো আবরণ থাকে যা পানি পৌঁছাতে বাধা দেয়, তখন আলাদা নিয়ম নেই; স্থানীয় ধর্মীয় নেতা বা ইমামকে জিজ্ঞেস করুন—কিছু ক্ষেত্রে বিশেষ অনুমতি আছে (যেমন মোজা-উম্মা উপর-এর মত)।`,
    },
    {
      id: 11,
      title: "ওযু শেষ — ছোট একটি দোয়া (ঐচ্ছিক)",
      body: `প্রচলিত একটি সংক্ষিপ্ত দোয়া হলো: “আশহাদু আল্লা ইলা ইল্লাল্লাহু, ওয়া আশহাদু আন্না মুহাম্মাদান রসূলুল্লাহ।”

বাংলায় উচ্চারণ/অনুবাদ: “আমি সাক্ষ্য দিচ্ছি আল্লাহ ছাড়া ইলাহ নেই, এবং আমি সাক্ষ্য দিচ্ছি মুহাম্মাদ (সা.) আল্লাহর রাসূল।”

টিপ: মৌখিক দোয়া/শহাদা বলা ঐচ্ছিক কিন্তু প্রচলিত; না জানলে কেবল শান্তভাবে শেষ করুন।`,
    },
  ];

  const toggleCheck = (id) => {
    setChecked((prev) =>
      prev.includes(id) ? prev.filter((i) => i !== id) : [...prev, id]
    );
  };

  const copySummary = async () => {
    const summary = steps
      .map(
        (s, idx) =>
          `${idx + 1}. ${s.title} — ${
            typeof s.body === "string" ? s.body.replace(/\n/g, " ") : ""
          }`
      )
      .join("\n\n");
    try {
      await navigator.clipboard.writeText(summary);
      setCopied(true);
      setTimeout(() => setCopied(false), 2500);
    } catch (e) {
      alert("ক্লিপবোর্ডে কপি করা যায়নি — ব্রাউজার অনুমতি চেক করুন।");
    }
  };

  return (
    <div className="max-w-3xl mx-auto p-6 bg-white rounded-2xl">
      <header className="mb-6">
        <h1 className="text-2xl md:text-3xl font-semibold mb-2">
          ওযু (Wudu) করার সম্পূর্ণ নির্দেশিকা — বাংলা
        </h1>
        <p className="text-sm text-gray-600">
          ধারণা: নিচের ধাপগুলো সাধারণভাবে মুসলিমদের মধ্যে প্রচলিত ওযু পদ্ধতি
          হিসেবে দেওয়া হলো — নির্দিষ্ট বিধি-বিধান মাযহাবভেদে একটু আলাদা হতে
          পারে।
        </p>
        <div className="mt-3 flex gap-2">
          <button
            onClick={copySummary}
            className="px-3 py-1 rounded bg-emerald-600 text-white text-sm"
          >
            ধাপগুলো কপি করুন
          </button>
          <button
            onClick={() => window.print()}
            className="px-3 py-1 rounded bg-gray-800 text-white text-sm"
          >
            প্রিন্ট করুন
          </button>
          {copied && (
            <span className="text-sm text-green-700 ml-2">
              কপি করা হয়েছে ✓
            </span>
          )}
        </div>
      </header>

      <main>
        <section className="mb-6">
          <h2 className="font-medium text-lg mb-2">চেকলিস্ট</h2>
          <p className="text-sm text-gray-600 mb-2">
            প্রতিটি ধাপ অনুসরণ করে টিক করুন — সবকিছু করলে আপনি ওযু সম্পন্ন
            করেছেন।
          </p>

          <ul className="space-y-2">
            {steps.map((s, idx) => (
              <li key={s.id} className="flex items-start gap-3">
                <input
                  id={`chk-${s.id}`}
                  type="checkbox"
                  checked={checked.includes(s.id)}
                  onChange={() => toggleCheck(s.id)}
                  className="mt-1 h-4 w-4"
                />
                <div>
                  <label htmlFor={`chk-${s.id}`} className="font-medium">
                    {idx + 1}. {s.title}
                  </label>
                  <div className="text-sm text-gray-700 mt-1 whitespace-pre-line">
                    {s.body}
                  </div>
                </div>
              </li>
            ))}
          </ul>

          <div className="mt-4">
            {checked.length === steps.length ? (
              <div className="p-3 rounded bg-green-50 text-green-800 font-medium">
                সব ধাপ শেষ — আপনার ওযু সম্পন্ন।
              </div>
            ) : (
              <div className="p-3 rounded bg-yellow-50 text-yellow-800">
                অবশিষ্ট টিক: {steps.length - checked.length}
              </div>
            )}
          </div>
        </section>

        <section className="mb-6">
          <h2 className="font-medium text-lg mb-2">ক্ষুদ্র বিস্তারিত ও টিপস</h2>
          <ul className="list-disc pl-5 space-y-2 text-gray-700">
            <li>
              ভিত্তিগত নিয়ম: যথাসম্ভব ধরুন প্রতিটি অংশে পানি পৌঁছায় — যদি পানি
              না পৌঁছায় ওযু খারাপ হবে।
            </li>
            <li>
              কোনো দৃশ্যত বাধা (ব্যান্ডেজ, মোজা) থাকলে—এটা সম্পর্কে স্থানীয়
              ইমাম বা ধর্মগুরু’র পরামর্শ নিন; কিছু বিশেষ পরিস্থিতিতে মসাহ (ওভার
              মোজা) অনুমোদিত থাকতে পারে।
            </li>
            <li>
              ওযু ভঙ্গ করে এমন কয়েকটি সাধারণ কারণ: প্রস্রাব/মল ত্যাগ, গ্যাস
              নির্গমন, গভীর ঘুম (যেখানে মানুষ অচেতন থাকে), অচেতন/অনিদ্রা, যৌন
              নিস্তার ইত্যাদি।
            </li>
            <li>
              জল সংকট বা পানির অভাব থাকলে "তায়াম্মুম" (শুকনো পরিশুদ্ধি) করা যায়
              — সেটাও আলাদা পদ্ধতি; সেটা জানতে চাইলে আমি আলাদা নির্দেশ দেব।
            </li>
            <li>
              প্রশ্ন—আরও ছাঁটাই পছন্দ? আপনি চাইলে প্রতিটি ধাপের উপরে সংক্ষিপ্ত
              ভিডিও বা ছবি যোগ করতে পারেন (এটি কোডে কাস্টমাইজ করা সম্ভব)।
            </li>
          </ul>
        </section>

        <section className="mb-6">
          <h2 className="font-medium text-lg mb-2">
            নীরব সতর্কতা (Disclaimer)
          </h2>
          <p className="text-sm text-gray-600">
            আমি কোনো অফিসিয়াল ধর্মগুরু নই — এখানে সাধারণ ও ব্যাপকভাবে মেনে চলা
            নির্দেশ দেয়া হয়েছে। নির্দিষ্ট ফেবে (জোরালো) প্রশ্ন বা সন্দেহ থাকলে
            আপনার নিকটস্থ মসজিদ/ইমামের সঙ্গে আলোচনা করুন।
          </p>
        </section>
      </main>
    </div>
  );
}
